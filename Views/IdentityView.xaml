<UserControl x:Class="meshIt.Views.IdentityView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#0F0F23">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="28,20" MaxWidth="400">

            <!-- Title -->
            <TextBlock Text="ðŸ” Your Identity" FontSize="20" FontWeight="SemiBold"
                       Foreground="#E0E0E0" Margin="0,0,0,20"/>

            <!-- Fingerprint Display -->
            <Border Background="#1A1A2E" CornerRadius="12" Padding="20" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Fingerprint" FontSize="12" Foreground="#757575" Margin="0,0,0,6"/>
                    <TextBlock Text="{Binding ShortFingerprint}" FontSize="36" FontWeight="Bold"
                               FontFamily="Consolas" Foreground="#7C4DFF" Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding FullFingerprint}" FontSize="10"
                               FontFamily="Consolas" Foreground="#616161"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <!-- QR Code -->
            <Border Background="#1A1A2E" CornerRadius="12" Padding="20" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Share this QR code to verify your identity"
                               FontSize="12" Foreground="#9E9E9E" Margin="0,0,0,12"/>
                    <Image Source="{Binding QrCodeImage}" Width="200" Height="200"
                           HorizontalAlignment="Center" RenderOptions.BitmapScalingMode="NearestNeighbor"/>
                </StackPanel>
            </Border>

            <!-- Manual fingerprint verification -->
            <Border Background="#1A1A2E" CornerRadius="12" Padding="20" Margin="0,0,0,16">
                <StackPanel>
                    <TextBlock Text="Verify someone's fingerprint" FontSize="12"
                               Foreground="#9E9E9E" Margin="0,0,0,10"/>
                    <Border Background="#2A2A4A" CornerRadius="8" Padding="2,0" Margin="0,0,0,10">
                        <TextBox Text="{Binding VerifyInput, UpdateSourceTrigger=PropertyChanged}"
                                 FontSize="13" FontFamily="Consolas" Padding="12,10"
                                 Background="Transparent" BorderThickness="0"
                                 Foreground="#E0E0E0" CaretBrush="#7C4DFF"/>
                    </Border>
                    <Button Content="âœ… Mark as Verified" Command="{Binding VerifyFingerprintCommand}"
                            Cursor="Hand" Padding="14,10" HorizontalAlignment="Left">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="#1B5E20"/>
                                <Setter Property="Foreground" Value="#A5D6A7"/>
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" CornerRadius="8" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center"/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#2E7D32"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    <TextBlock Text="{Binding VerifyResult}" FontSize="12" Foreground="#81C784"
                               Margin="0,8,0,0"
                               Visibility="{Binding VerifyResult.Length, 
                                   FallbackValue=Collapsed}"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>

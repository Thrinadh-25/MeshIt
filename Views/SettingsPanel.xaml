<UserControl x:Class="meshIt.Views.SettingsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:meshIt.Converters">

    <UserControl.Resources>
        <converters:BoolToVisibilityConverter x:Key="BoolToVis"/>
    </UserControl.Resources>

    <Border Background="#1A1A2E" CornerRadius="16,0,0,16" Width="320"
            HorizontalAlignment="Right" VerticalAlignment="Stretch"
            Visibility="{Binding IsSettingsOpen, Converter={StaticResource BoolToVis}}">
        <Grid Margin="24,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <Grid Grid.Row="0" Margin="0,0,0,24">
                <TextBlock Text="âš™ï¸ Settings" FontSize="20" FontWeight="SemiBold"
                           Foreground="#E0E0E0"/>
                <Button Content="âœ•" FontSize="16" HorizontalAlignment="Right"
                        Command="{Binding ToggleSettingsCommand}"
                        Background="Transparent" BorderThickness="0"
                        Foreground="#9E9E9E" Cursor="Hand" Padding="8,4"/>
            </Grid>

            <!-- Username -->
            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock Text="Display Name" FontSize="12" Foreground="#757575" Margin="0,0,0,6"/>
                <Border Background="#2A2A4A" CornerRadius="8">
                    <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                             FontSize="14" Padding="12,10"
                             Background="Transparent" BorderThickness="0"
                             Foreground="#E0E0E0" CaretBrush="#7C4DFF"/>
                </Border>
            </StackPanel>

            <!-- Theme (placeholder) -->
            <StackPanel Grid.Row="2" Margin="0,0,0,20">
                <TextBlock Text="Theme" FontSize="12" Foreground="#757575" Margin="0,0,0,6"/>
                <Border Background="#2A2A4A" CornerRadius="8" Padding="12,10">
                    <TextBlock Text="ðŸŒ™ Dark Mode" FontSize="14" Foreground="#B0BEC5"/>
                </Border>
            </StackPanel>

            <!-- Clear Data -->
            <Button Grid.Row="3" Content="ðŸ—‘ï¸  Clear All Data" 
                    Command="{Binding ClearDataCommand}"
                    FontSize="13" Padding="14,10" Cursor="Hand" Margin="0,0,0,16">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Background" Value="#3A1A1A"/>
                        <Setter Property="Foreground" Value="#F44336"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="8" Padding="{TemplateBinding Padding}">
                                        <ContentPresenter HorizontalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#4A2A2A"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <!-- App version -->
            <TextBlock Grid.Row="6" FontSize="11" Foreground="#616161"
                       HorizontalAlignment="Center" VerticalAlignment="Bottom"
                       Margin="0,0,0,4">
                <Run Text="meshIt v"/>
                <Run Text="{Binding AppVersion, Mode=OneWay}"/>
            </TextBlock>
        </Grid>
    </Border>
</UserControl>

<Window x:Class="meshIt.Views.BluetoothDiagnosticDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="meshIt â€” Bluetooth Status"
        WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight"
        MinWidth="480"
        ResizeMode="NoResize"
        Background="#1a1a2e">

    <Window.Resources>
        <Style x:Key="StatusDot" TargetType="Ellipse">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>
        <Style x:Key="InfoLabel" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#8892b0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,2"/>
        </Style>
        <Style x:Key="InfoValue" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#ccd6f6"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,2"/>
        </Style>
    </Window.Resources>

    <Border CornerRadius="12" Background="#16213e" Margin="16" Padding="24">
        <StackPanel>
            <!-- Header -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                <TextBlock Text="ðŸ“¡" FontSize="28" Margin="0,0,12,0" VerticalAlignment="Center"/>
                <StackPanel>
                    <TextBlock Text="Bluetooth Hardware Check" Foreground="#e2e8f0" 
                               FontSize="20" FontWeight="Bold"/>
                    <TextBlock Text="Verifying Bluetooth access for meshIt" 
                               Foreground="#64748b" FontSize="12"/>
                </StackPanel>
            </StackPanel>

            <!-- Status indicator -->
            <Border x:Name="StatusBanner" CornerRadius="8" Padding="16,12" Margin="0,0,0,16">
                <StackPanel Orientation="Horizontal">
                    <Ellipse x:Name="StatusDot" Style="{StaticResource StatusDot}"/>
                    <TextBlock x:Name="StatusLabel" FontSize="15" FontWeight="SemiBold"/>
                </StackPanel>
            </Border>

            <!-- Diagnostics grid -->
            <Border Background="#0f3460" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Adapter" Style="{StaticResource InfoLabel}"/>
                    <TextBlock Grid.Row="0" Grid.Column="2" x:Name="AdapterValue" Style="{StaticResource InfoValue}"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Address" Style="{StaticResource InfoLabel}"/>
                    <TextBlock Grid.Row="1" Grid.Column="2" x:Name="AddressValue" Style="{StaticResource InfoValue}"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Radio Mode" Style="{StaticResource InfoLabel}"/>
                    <TextBlock Grid.Row="2" Grid.Column="2" x:Name="ModeValue" Style="{StaticResource InfoValue}"/>

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="API" Style="{StaticResource InfoLabel}"/>
                    <TextBlock Grid.Row="3" Grid.Column="2" Style="{StaticResource InfoValue}" 
                               Text="32feet.NET (Win32 RFCOMM)" Foreground="#64ffda"/>
                </Grid>
            </Border>

            <!-- Error message -->
            <Border x:Name="ErrorPanel" Background="#2d1b1b" CornerRadius="8" 
                    Padding="12" Margin="0,0,0,16" Visibility="Collapsed">
                <TextBlock x:Name="ErrorText" Foreground="#ff6b6b" FontSize="13" TextWrapping="Wrap"/>
            </Border>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
                <Button x:Name="RetryButton" Content="âŸ³ Retry Check" 
                        Click="OnRetryClick"
                        Background="#0f3460" Foreground="#ccd6f6" BorderBrush="#1a5276"
                        Padding="16,8" Margin="0,0,8,0" Cursor="Hand"
                        FontSize="13">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1" CornerRadius="6" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button x:Name="ContinueButton" Content="âœ“ Continue" 
                        Click="OnContinueClick"
                        Background="#00b894" Foreground="White" BorderBrush="Transparent"
                        Padding="16,8" Cursor="Hand" FontWeight="SemiBold"
                        FontSize="13">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="1" CornerRadius="6" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
